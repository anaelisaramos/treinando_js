<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!--
    <h1>Exercícios</h1>
    <h3>Objeto Date</h3>
    <h4 style="font-weight: 100;">1. Crie um script que apresente a data atual do computador na tela e em seguida 
        exiba as horas, minutos e segundos atuais.<br><strong>Resposta:</strong>
    </h4>
    <h5 style="background-color: black; color: white; padding: 15px 30px; font-family: Arial; border-top: 10px solid gray;">
        data = new Date();
        document.write(data.toLocaleString());
    </h5>
    <script>
        data = new Date();
        document.write(data.toLocaleString());
    </script>
    <h4 style="font-weight: 100;">2. Crie um script que exiba o número do dia da semana, assim como, o número 
        do mês atual.<br><strong>Resposta:</strong>
    </h4>
    <h5 style="line-height: 20px; font-weight: 200; background-color: black; color: white; padding: 15px 30px; font-family: Arial; border-top: 10px solid gray;">
        data = new Date();
        document.write('Número do dia da semana: ' + data.getDay() + '<br>');
        document.write('Número do mês: ' + data.getMonth());
    </h5>
    <script>
        data = new Date();
        document.write('Número do dia da semana: ' + data.getDay() + '<br>');
        document.write('Número do mês: ' + data.getMonth());
    </script>
    <h4 style="font-weight: 100;">3. Crie um script que apresente na página a seguinte condição: 
        <ul>
            <li>Se horas for menor que 12h, exiba “BOM DIA”</li>
            <li>Se horas estiver entre 12h e 18h, exiba: “BOA TARDE”</li>
            <li>Se horas estiver entre 00h e 05h, exiba: “BOA MADRUGADA”.</li>
        </ul>
        <strong>Resposta:</strong>
        <h5 style="background-color: black; color: white; padding: 15px 30px; font-family: Arial; border-top: 10px solid gray;">
            data = new Date();
        horario = data.getHours();

        if (horario<12){
            document.write('BOM DIA')
        } else if(horario>12 && horario<18){
            document.write('BOA TARDE')
        } else if(horario>0 && horario<5){
            document.write('BOA MADRUGADA')
        }

        </h5>
    </h4>
    <script>
        data = new Date();
        horario = data.getHours();

        if (horario<12){
            document.write('BOM DIA')
        } else if(horario>12 && horario<18){
            document.write('BOA TARDE')
        } else if(horario>0 && horario<5){
            document.write('BOA MADRUGADA')
        }

    </script>

<h4 style="font-weight: 100;">4. Crie um script que apresente na barra de status a data e as horas sendo 
    atualizado de 1 em 1 segundo.
    status:<br><strong>Resposta:</strong>
</h4>
<div id="resposta">
</div>
<script>
    function exibeData(){

    var existingP = document.getElementById('text');
        if(existingP != null){
        existingP.remove()
    }

    data = new Date();
    day = data.getDay();
    date = data.getDate();
    month = data.getMonth();
    year = data.getFullYear();
    time = (data.toLocaleString()).slice(12);
    
    var daysOfWeek = ['Domingo', 'Segunda-feira', 'Terça-feira', 'Quarta-feira', 'Quinta-feira', 'Sexta-feira', 'Sábado'];
    var months = ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'];
    var dayName = daysOfWeek[day];
    var monthName = months[month];

    var texto = document.createTextNode(dayName + ', ' + date + ' de ' + monthName + ' de ' + year + '. Agora são: ' + time)
    var paragraph = document.createElement('p');
    paragraph.appendChild(texto)
    paragraph.id = 'text'
    document.getElementById('resposta').appendChild(paragraph)

    }

    setInterval(exibeData, 1000)
</script>

<h3>Objeto Document</h3>
<h4 style="font-weight: 100;">5. Crie em uma página HTML um script que mostre em uma caixa de alerta a cor 
    de fundo da página.<br><strong>Resposta:</strong>
</h4>
<script>
    alert(window.getComputedStyle(document.body).backgroundColor)
</script>

<h4 style="font-weight: 100;">6. Crie um SCRIPT que ao abrir a página, seja solicitado a digitação do nome do 
    usuário, dentro desta função, crie uma condição que enquanto o nome não for 
    digitado, seja solicitado continuamente.<br><strong>Resposta:</strong>
</h4>
<script>
    solicitaNome()
    function solicitaNome(){
        nome = prompt('Digite seu nome')
    }

    while(nome == ''){
        solicitaNome()
    }    

</script>
</body>
</html>

<script>

    const loginUser = (email, password, callback) => {
    setTimeout(() => {
        console.log("user logged");
        callback(email); // Chama o callback com o email após 1500ms
    }, 1500);
}

loginUser("aninha.mmramos", "12345", (loggedInEmail) => {
    console.log("Email logged in:", loggedInEmail);
});
</script>

<script>
    const somaAssincrona = ( num1, num2, mostraResultado) => {
        var soma = num1 + num2
        setTimeout(() => {
            mostraResultado(soma)
        } 
        , 50000)
    }

    function mostraResultado(resultado){
        document.write(resultado)
    }
</script>

<script>
const transformaArray = (array, trasformacao, callback) => {
    const novoArray = [];

    for(i in array){
        novoArray.push(trasformacao(i))
    }

    setTimeout(()=>{
        callback(novoArray);
    }, 2000
    )
}

function adiciona1(numero){
    return ++numero
}

function imprimirArray(array){
    console.log(array)
}

trasformaArray([1, 2, 3, 4], adiciona1, imprimirArray)
</script>

<script>
const filtrarArray = (alunos, notas, media, boletim) => {
    const estados = [];
    for(let i=0; i < notas.length; i++){
        if (notas[i] > media){
            estados.push('Aprovado')
        } else {
            estados.push('Reprovado')
        }
    }

    setTimeout(()=>{
        boletim(alunos, estados)
    }, 1000)
}

function boletim(alunos, estados){
    for (let i=0; i< alunos.length; i++){
        console.log(
            alunos[i] + ' : ' + estados[i]
        )}
}

filtrarArray(
    ['Ana', 'Maria', 'Julia'], [10, 3, 8], 5, boletim
)

</script>


<script>
    const loginUserPromise = (email, password) =>{
        return new Promisse((reesolve, reject) => {
            const error = falase;
            if(error){
                reject(new Error('error in login'))
            }

            console.log('user logged!');
            resolve(email)
        })
    }

    loginUserPromise('aninha@gmail', '1234').then((user) => {
        console.log(user)
    }
</script>


<script>
    function verificaCompra(produto, saldo){
        return new Promise((resolve, reject) => {
            if(produto.preco <= saldo){
                resolve('Você tem saldo suficiente')
            } else {
                reject('Você não tem saldo suficiente')
            }
        })
    }

    const produto1 = {
    nome: 'Celular',
    disponivel: true,
    preco: 1000
};

const produto2 = {
    nome: 'Fones de Ouvido',
    disponivel: false,
    preco: 50
};

const saldoUsuario = 1200;

verificaCompra(produto1, saldoUsuario)
.then(resultado => {
    console.log(resultado)
})
.catch(error => {
    console.log(erro)
})

verificaCompra(produto2, saldoUsuario)
.then(resultado => {
    console.log(resultado)
})
.catch(erro => {
    console.log(erro)
})
</script>

<script>
    // Defina as funções verificarDisponibilidade, calcularPrecoDesconto e processarPagamento aqui

const produto1 = {
    nome: 'Camiseta',
    disponivel: true,
    preco: 30
};

// Sua implementação aqui
verificaDisponibilidade = (produto) => {
    return new Promise((resolve, reject) => {
        if(produto.disponivel){
            resolve('disponivel')
        } else{
            reject(new Error('O produto está indisponível'))
        }
    })
}

function calcularPrecoDesconto(produto){
    var desconto = 0.1 
    return new Promise((resolve, reject) => {
        if(desconto > 0){
            resolve('O preço com desconto é:' + produto.preco * (1-desconto))
        } else {
            reject(new Error('Erro ao aplicar desconto'))
        }
        
    })
        
}

processarPagamento = (produto) => {
    return new Promise((resolve, reject) =>{
        var aprovado = true
        if(aprovado){
            resolve(`O pagamento do produto ${produto.nome} de ${produto.preco} reais foi processado`)
        } else {
            reject('O pagamento foi reprovado')
        }   
    })
}

verificaDisponibilidade(produto1)
.then((disponibilidade) => {
    console.log(disponibilidade)
    return calcularPrecoDesconto(produto1)
})
.then((precoDesconto) => {
    console.log(precoDesconto)
    return procesarPagamento(produto1)
})
.then((pagamento) => {
    console.log(pagamento)
})
.catch((error => 
console.log(error)))
</script>


<script>
criaTarefa = (nome) =>{
    return new Promise((resolve)=>{
        setTimeout(() => {
            resolve(
            tarefa = new Object(),
            tarefa.nome = nome,
            tarefa.id = Math.floor(Math.random() *1000),
            tarefa.conclusao = false
        )
        }, 2000)
        
    })
}

concluirTarefa = (tarefa) => {
    return new Promise((resolve) => {
        setTimeout(() => {
            tarefa.conclusao = true;
            resolve(tarefa)
        }, 5000)
        
    })
}

exibirTarefa = (tarefa) => {
    return new Promise((resolve) => {
        setTimeout(() => {
            resolve(`Tarefa ID ${tarefa.id}: ${tarefa.nome}`)
        }, 8000)
    })
}


criaTarefa('estudar')
.then((tarefaCriada) => {
    console.log(`Tarefa "${tarefaCriada.nome}" criada`)
    return concluirTarefa(tarefaCriada)
})
.then((tarefaConcluida) => {
    console.log(`Tarefa ${ tarefaConcluida.nome} concluída`)
    return exibirTarefa(tarefaConcluida)
})
.then((tarefaExibida) => {
    console.log(tarefaExibida)
})


</script> 

<script>
    carregaRecurso = () => {
        return new Promise((resolve, reject) => {
            var carregado = false
            setTimeout(() => {
                if(carregado){
                    resolve('Mensagem carregada')
                } else {
                    reject(new Error('Erro ao carregar a mensagem'))
                }
                
            }, 2000)
        })
    }

    async function principal(){
        try {
            const mensagem = await carregaRecurso()
            console.log(mensagem);
        } catch(error){
            console.log(error)
        }
    }

    principal()
</script> 

<script>
    //funcao que requere a temperatura
    getTemp = () => {
        return new Promise((resolve, reject) => { //retorna uma promisse, que recebe como argumento resolve e reject
            setInterval(() => {
                var temperatura = Math.floor(Math.random() * 50) + ' graus Celcius' //gera um número entre 0 e 50
                resolve(temperatura)
            }, 5000) //define um delay de 4s
        }) 
    }

    var exibeTemp = async function(){
        var temp = await getTemp(); //atribui o resolve de getTemp à temp, depis de 4s
        console.log('A temperatura hoje é de ' + temp)
    }

exibeTemp()
</script> -->

<!-- <script>
    //com async e await 
    verificarEstoque = (produto) => {                   //verifica no objeto se há o produto no estoque
        return new Promise((resolve, reject) => {
            if(produto.estoque!=0){
                resolve(produto)                         //passa o objeto adiante se houver
            } else {
                reject('Esse produto está indiponível')  //notifica o cliente se não houver
            }
        })
    }

    processarPagamento = (produto) => {
        return new Promise((resolve, reject) => {
            setTimeout(() => {
                var aprovado = true;
                if(aprovado){
                    resolve(produto)
                } else {
                    reject('O pagamento não foi aprovado')
                }
            }, 2000) //depois de 3s, se o pag tiver sido aprovado, retorna o produto. se não, exibe mensgaem.
        })
    }

    enviarConfirmacao = (produto) => {
        return new Promise((resolve, reject) => {
            var confirmado = true
            setTimeout(() => {
                if(confirmado){
                    resolve('Pedido confirmado!\n' + produto.nome  + '\n' + produto.preco)
                } else {
                    reject('Houve um problema e seu pedido está demorando mais do que o esperado para ser confirmado')
                }
            }, 2000)
        })
    }

     processarPedido = async function(produto){
        try{
            const produto_estoque = await verificarEstoque(produto);
            console.log(`Seu pedido "${ produto.nome }"" foi está disponível!`)
            const produto_pago = await processarPagamento(produto_estoque);
            console.log(`Seu pagamento de ${ produto.preco } reais foi aprovado!`)
            const confirmacao = await enviarConfirmacao(produto_pago);
            console.log(confirmacao)

        }catch(error){
            console.log(error)
        }
   }

   //com promisses
//  verificarEstoque(pedido1 = {nome: 'Caderno Rosa', estoque: 3, preco: 120})
//  .then((produto_confirmado) => {
//     console.log(`Seu pedido "${ produto_confirmado.nome }"" foi está disponível!`)
//     return processarPagamento(produto_confirmado)
//  })
//  .then((produto_pago) => {
//     console.log(`Seu pagamento de ${ produto_pago.preco } reais foi aprovado!`)
//     return enviarConfirmacao(produto_pago)
//  })
//  .then((confirmacao) => {
//     console.log(confirmacao)
//  })
//  .catch((error) => {
//      console.log(error)
//  })
 

//      processarPedido(
//         pedido1 = {
//             nome: 'Caderno Rosa',
//             estoque: 3,
//             preco: 120

//         }
//     )

//     //não me atrevo a fazer com callback! kkk

//     const aluno = {
//         nome: 'Ana',
//         media: 9,
//         idade: 18,
//         animal: 'cachorro'
//     }
    
//     //const { nome, email, idade, animal } = aluno
//     //console.log(nome)
    
//     exibeDados =  ({ nome, idade}) => {
//         console.log(nome)
//         console.log(idade)
//     }

//     exibeDados(aluno)

//     //com array é a mesma coisa, só muda que precisa ter atenção à ordem.

// </script>



 -->

 
<!-- <body>


 <ul>
    <li id="texto">
        rosa
    </li>
    <li>
        rosalinda
    </li>
    <li>
        azul
    </li>
    <li>
        laranja
    </li>
 </ul>

 <input type="text" placeholder="pesquisar valor">

 <script>

    function pesquisar(){
        // if(document.getElementsByClassName('pesquisa') !== null){
        //     document.getElementsByClassName('pesquisa').remove()
        // }

        let listItem = document.getElementsByTagName('li');
        listItem = [...listItem]
        listItem2 = listItem.map((item, i) => {
            return item.textContent.trim() 
        })
        
        var pesquisado = listItem2.filter((item) => {
             valor = document.getElementsByTagName('input')[0].value
             if(valor !== '' && item.indexOf(valor) == 0){
                return item
             }
            })

        console.log(pesquisado)

        pesquisado.array.forEach(element => {
            if(pesquisado !== undefined){
            novoElemento = document.createElement('div')
            novoElemento.innerHTML = element
            novoElemento.className = 'pesquisa'
            document.body.appendChild(pesquisa)

        }
        });
            


        


        limparCampo()
    }

    function limparCampo(){
        let campo = document.getElementsByTagName('input')[0]
        campo.value = '';
    }


 </script>

 <button type="button" onclick="pesquisar()">Pesquisar</button>

<script>
    //map
    // let listItem = document.getElementsByTagName('li')
    // listItem = [...listItem]
    // listItem.map((item, i) => {
    //     item.innerHTML = 'oi'
        
    // })

    // //const dobrar = (numeros) => console.log(numeros * 2)
    // const dobro = (numeros, i, array) => numeros * 2 + `${i}` + array
    // const adicionaAst = (numeros) => numeros + '*'

    // let num = [1, 3, 5, 7, 8]
    // //num.map(dobrar)
    // console.log(num)
    // console.log((num.map(dobro)).map(adicionaAst),)
    
    //filter
    let nomes = ['ana', 'bruno', 'carlos', 'junior']

    const nomesSemA = nomes.filter((nome)=>{
        if(nome.search('a') == -1){
            return nome
        }
    })

    console.log(nomesSemA)

    //find
    


    
</script>
</body> -->

<script>
    // //reduce
    // myArray1 = [1, 2, 3, 4]
    // console.log(myArray1.reduce((retornoAnterior, elemento) => {
    //     return retornoAnterior + elemento
    // }))

    // //every
    // let myArray2 = [4, 5, 7, 11]
    // let paridade = 'Todos são pares.'

    // const pares = myArray2.every((elemento) => {
    //     return elemento%2 == 0
    // })

    // if(!(pares)){
    //     paridade = 'nem todos são pares'
    // }

    // console.log(paridade)

    // const ao_menos_um_par = myArray2.some((elemento) => {
    //     return elemento%2 == 0
    // })

    // if(ao_menos_um_par){
    //     paridade = 'pelo menos um par'
    // } else {
    //     paridade = 'todos são impares'
    // }

    // console.log(paridade)

    const redes = ['yt', 'wpp', 'insta']

    redes.forEach((rede) => {
        console.log(rede)
    })

    redes.map((rede) => {
        console.log(rede)
    })

    for(rede of redes){
        console.log(rede)
    } 

    for(rede in redes){
        console.log(redes[rede])
    }

    for(let i = 0; i<redes.lenght; i++){
        console.log(redes[i])
    }

    i = 0
    while(i<redes.length){
        console.log(redes[i])
        i++
    }
    
</script>
